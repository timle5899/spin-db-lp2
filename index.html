<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Bangladesh Lucky Spin</title>
<style>
:root{--bg1:#061a14;--bg2:#020806;--card:#ffffff14}
*{box-sizing:border-box}
body{
  margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:radial-gradient(circle at top,#ffd70055,transparent 55%),linear-gradient(var(--bg1),var(--bg2));
  color:#fff;display:flex;justify-content:center
}
.wrap{width:100%;max-width:420px;min-height:100svh;padding:14px 14px 24px}

/* HERO */
.hero{
  background:linear-gradient(180deg,#7a7a2a55,#0f2f25cc);
  border-radius:22px;padding:18px 16px;
  box-shadow:0 14px 35px rgba(0,0,0,.45)
}
.hero h1{margin:0 0 10px;font-size:44px;line-height:1.02;font-weight:900}
.hero .line{margin:0;font-size:26px;font-weight:800;line-height:1.2}
.hero .muted{margin-top:10px;opacity:.92;font-weight:800;font-size:26px}
.flag{margin-left:6px}

/* CARD */
.card{
  margin-top:16px;
  background:linear-gradient(180deg,#00000010,var(--card));
  padding:16px;border-radius:22px;
  box-shadow:0 14px 35px rgba(0,0,0,.45)
}

/* WHEEL */
.wheel-wrap{position:relative;width:320px;height:320px;margin:12px auto 14px}
@media (max-width:360px){
  .wheel-wrap{width:300px;height:300px}
  .hero h1{font-size:40px}
  .hero .line,.hero .muted{font-size:24px}
}
.pointer{
  position:absolute;top:-24px;left:50%;transform:translateX(-50%);
  width:0;height:0;border-left:24px solid transparent;border-right:24px solid transparent;
  border-top:40px solid #F5418C;z-index:10
}
.wheel{
  width:100%;height:100%;border-radius:50%;
  background:conic-gradient(
    #ffd700 0 12.5%,#006a4e 12.5% 25%,
    #ffd700 25% 37.5%,#006a4e 37.5% 50%,
    #ffd700 50% 62.5%,#006a4e 62.5% 75%,
    #ffd700 75% 87.5%,#006a4e 87.5% 100%
  );
  display:flex;align-items:center;justify-content:center;
  transition:transform 4s cubic-bezier(.17,.67,.21,1);
  position:relative
}
.center{
  width:92px;height:92px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#fff,#ffd700 60%);
  display:flex;align-items:center;justify-content:center;
  font-weight:1000;color:#000;font-size:22px
}
.labels{position:absolute;inset:0;pointer-events:none}

/* PRIZE TEXT */
.prize{
  --flip: 0deg;
  position:absolute;left:50%;top:50%;
  transform:
    translate(-50%,-50%)
    rotate(var(--a))
    translateY(-100px)
    rotate(var(--flip));
  display:flex;flex-direction:column;align-items:center;
  font-weight:1000;color:#184CF5
}
.prize .num{display:flex;flex-direction:column;font-size:24px;line-height:1}

/* BUTTON */
.btn{
  width:100%;padding:16px;font-size:20px;font-weight:1000;
  border:none;border-radius:16px;
  background:linear-gradient(#fff1a6,#ffd700);cursor:pointer
}

/* MODALS: align to SPIN NOW position */
.modal-bg{
  position:fixed;inset:0;background:rgba(0,0,0,.65);
  display:none;
}
.modal-anchor{
  width:100%;
  max-width:420px;
  margin:0 auto;
  padding:14px 14px 24px;
  min-height:100svh;
  position:relative;
}
.modal{
  background:#0b2a21;border-radius:18px;padding:16px;
  text-align:center;width:calc(100% - 32px);
  position:absolute;left:16px;right:16px;
  bottom:28px;
  box-shadow:0 18px 60px rgba(0,0,0,.6);
}
.modal p{margin:0;font-size:16px;line-height:1.25}
.modal .btn{margin-top:12px}
</style>
</head>

<body>
<div class="wrap">

  <div class="hero">
    <h1>Congratulations!</h1>
    <p class="line">Spin the Wheel &amp; Win Real Cash Rewards</p>
    <p class="muted">Exclusive Reward for Bangladesh Users <span class="flag">ðŸ‡§ðŸ‡©</span></p>
  </div>

  <div class="card">

    <div class="wheel-wrap">
      <div class="pointer"></div>

      <div id="wheel" class="wheel">
        <div class="labels">
          <div class="prize" style="--a:22.5deg;--flip:180deg"><div class="num"><span>5</span><span>0</span><span>0</span></div></div>
          <div class="prize" style="--a:112.5deg;--flip:180deg"><div class="num"><span>1</span><span>0</span><span>0</span><span>0</span></div></div>
          <div class="prize" style="--a:292.5deg;--flip:180deg"><div class="num"><span>2</span><span>0</span><span>0</span><span>0</span></div></div>
        </div>
        <div class="center">LUCKY</div>
      </div>
    </div>

    <button id="spinBtn" class="btn">SPIN NOW</button>
  </div>
</div>

<div id="hintBg" class="modal-bg">
  <div class="modal-anchor">
    <div class="modal">
      <p>Almost there!<br>You still have one chance left.</p>
    </div>
  </div>
</div>

<div id="winBg" class="modal-bg">
  <div class="modal-anchor">
    <div class="modal">
      <p>ðŸŽ‰ You won 2000!<br>Claim your reward now.</p>
      <button class="btn" onclick="location.href='https://rejruy.mcgo2.com/click'">CLAIM NOW</button>
    </div>
  </div>
</div>

<audio id="spinSound" preload="auto" src="https://assets.mixkit.co/sfx/preview/mixkit-slot-machine-spin-1930.mp3"></audio>

<script>
let spinCount=0,currentRotation=0;
const wheel=document.getElementById('wheel');
const btn=document.getElementById('spinBtn');
const hint=document.getElementById('hintBg');
const win=document.getElementById('winBg');
const spinAudio=document.getElementById('spinSound');

/** WebAudio fallback spin sound (works offline). */
let audioCtx = null;
function playSpinSound(durationMs=3800){
  try{
    audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();
    if(audioCtx.state === "suspended"){ audioCtx.resume(); }

    const now = audioCtx.currentTime;
    const dur = Math.max(0.6, durationMs/1000);

    const master = audioCtx.createGain();
    master.gain.setValueAtTime(0.0001, now);
    master.gain.exponentialRampToValueAtTime(0.35, now + 0.05);
    master.gain.exponentialRampToValueAtTime(0.0001, now + dur);
    master.connect(audioCtx.destination);

    // noise buffer
    const bufferSize = Math.floor(audioCtx.sampleRate * dur);
    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
    const data = buffer.getChannelData(0);
    for(let i=0;i<bufferSize;i++){ data[i] = (Math.random()*2-1) * 0.6; }
    const noise = audioCtx.createBufferSource();
    noise.buffer = buffer;

    const bandpass = audioCtx.createBiquadFilter();
    bandpass.type = "bandpass";
    bandpass.Q.value = 2.2;
    bandpass.frequency.setValueAtTime(500, now);
    bandpass.frequency.exponentialRampToValueAtTime(1400, now + dur*0.55);
    bandpass.frequency.exponentialRampToValueAtTime(700, now + dur);

    const noiseGain = audioCtx.createGain();
    noiseGain.gain.setValueAtTime(0.25, now);

    noise.connect(bandpass);
    bandpass.connect(noiseGain);
    noiseGain.connect(master);

    // tone
    const osc = audioCtx.createOscillator();
    osc.type = "triangle";
    osc.frequency.setValueAtTime(220, now);
    osc.frequency.exponentialRampToValueAtTime(520, now + dur*0.55);
    osc.frequency.exponentialRampToValueAtTime(260, now + dur);

    const oscGain = audioCtx.createGain();
    oscGain.gain.setValueAtTime(0.0001, now);
    oscGain.gain.exponentialRampToValueAtTime(0.18, now + 0.05);
    oscGain.gain.exponentialRampToValueAtTime(0.0001, now + dur);

    osc.connect(oscGain);
    oscGain.connect(master);

    noise.start(now);
    osc.start(now);
    noise.stop(now + dur);
    osc.stop(now + dur);
  }catch(e){}
}

/** Try MP3 first; if it fails, fallback to WebAudio. */
function tryPlaySound(){
  let startedFallback = false;
  const fallback = ()=>{ if(!startedFallback){ startedFallback=true; playSpinSound(3800);} };

  try{
    spinAudio.currentTime = 0;
    const p = spinAudio.play();
    if(p && typeof p.catch === "function"){
      p.catch(()=>fallback());
      setTimeout(()=>{ if(spinAudio.paused) fallback(); }, 120);
    }else{
      setTimeout(()=>{ if(spinAudio.paused) fallback(); }, 120);
    }
  }catch(e){
    fallback();
  }
}

function rotateBy(delta){
  currentRotation+=delta;
  wheel.style.transform=`rotate(${currentRotation}deg)`;
}

btn.onclick=()=>{
  spinCount++;btn.disabled=true;
  tryPlaySound();

  if(spinCount===1){
    rotateBy(1440+157.5);
    setTimeout(()=>{
      hint.style.display='block';
      setTimeout(()=>{
        hint.style.display='none';
        btn.disabled=false;
      },3000);
    },4000);
  }
  if(spinCount===2){
    rotateBy(1800+288.5);
    setTimeout(()=>{win.style.display='block'},4200);
  }
};
</script>
</body>
</html>
